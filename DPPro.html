<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DP Pro — Digital Surgical Microscope</title>
<meta name="description" content="Revolutionary digital surgical microscope with gimbal stabilizer and articulated arm. Perfect stabilization, precise control, and AI integration for surgical excellence." />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
<style>
  :root { 
    --bg: #ffffff;
    --text: #0a0a0a; 
    --muted: #525252; 
    --line: #e5e5e5; 
    --card: #ffffff;
    --a1: #2563eb;           
    --a2: #059669;           
    --a3: #7c3aed;           
  }
  @media (prefers-color-scheme: dark){ 
    :root { 
      --bg: #0a0a0a;
      --text: #fafafa; 
      --muted: #a1a1aa; 
      --line: #262626;
      --card: #18181b;       
    } 
  }
  
  html { scroll-snap-type: y mandatory; scroll-behavior: smooth; }
  body{
    margin:0; 
    font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; 
    color:var(--text); 
    overflow-x: hidden;
    background: linear-gradient(180deg, #d8e3ff 0%, #a7ccfc 50%, var(--bg) 100%);
  }
  .container{max-width:1200px; margin:0 auto; padding:0 20px}

  /* ==== SPLASH SCREEN STYLES ==== */
  .splash-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: var(--bg); display: grid; place-items: center; z-index: 1000;
    transition: opacity 0.8s ease-out; pointer-events: none;
  }
  .splash-screen.hidden { opacity: 0; }
  .splash-text {
    font-size: clamp(60px, 15vw, 200px); font-weight: 800; letter-spacing: -0.04em;
    animation: fadeInScale 1.5s cubic-bezier(0.215, 0.610, 0.355, 1) forwards;
  }
  @keyframes fadeInScale { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
  
  .nav{position:sticky; top:0; z-index:50; background:color-mix(in srgb, var(--bg) 80%, transparent); backdrop-filter:saturate(180%) blur(10px); border-bottom:1px solid var(--line)}
  .nav-inner{height:57px; display:flex; align-items:center; justify-content:space-between}
  .logo{display:flex; gap:8px; align-items:center; font-weight:600; letter-spacing:-0.02em; font-size: 18px;}
  .nav a{color:inherit; text-decoration:none}
  .nav-links{display:none; gap:24px; font-size:14px; color:var(--muted); list-style:none; margin:0; padding:0; height:100%}
  @media(min-width:960px){.nav-links{display:flex; align-items:center}}
  .nav-links > li { height: 100%; display: flex; align-items: center; cursor:pointer; }
  .dropdown-menu { opacity: 0; visibility: hidden; transition: opacity .3s ease, visibility .3s ease; position: absolute; top: 57px; left: 0; right: 0; background: var(--bg); border-top: 1px solid var(--line); box-shadow: 0 20px 60px rgba(0,0,0,.15); z-index: 40; overflow-y: auto; max-height: calc(100vh - 57px); }
  .dropdown-menu.is-open { opacity: 1; visibility: visible; }
  .menu-content { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 32px; padding: 32px 0; }
  .menu-main-links { list-style: none; padding: 0; margin: 0; }
  .menu-main-links li:first-child { font-size: 11px; text-transform: uppercase; letter-spacing: .05em; color: var(--muted); margin-bottom: 8px; padding: 0 12px; }
  .menu-main-links a { font-size: 24px; font-weight: 600; line-height: 1.5; display: block; padding: 4px 12px; border-radius: 6px; }
  .menu-main-links a:hover { background: var(--card); }
  .menu-link-column { list-style: none; padding: 0; margin: 0; }
  .menu-link-column li:first-child { font-size: 11px; text-transform: uppercase; letter-spacing: .05em; color: var(--muted); margin-bottom: 14px; padding: 0 12px; }
  .menu-link-column a { font-size: 13px; font-weight: 500; display: block; padding: 8px 12px; border-radius: 6px; }
  .menu-link-column a:hover { background: var(--card); }
  .menu-backdrop { position: fixed; top: 57px; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.4); z-index: 30; opacity: 0; visibility: hidden; transition: opacity .3s ease, visibility .3s ease; }
  .menu-backdrop.is-visible { opacity: 1; visibility: visible; }

  .btn{display:inline-flex; align-items:center; gap:8px; padding:12px 24px; border-radius:999px; border:1px solid var(--line); font-weight:600; font-size:16px; background:transparent; color:inherit; cursor:pointer; text-decoration: none;}
  .btn.primary{background:var(--text); color:var(--bg); border-color:transparent}
  .btn.primary:hover{opacity:.92}
  .btn:hover{background:color-mix(in srgb, var(--text) 6%, transparent)}
  a.btn, button.btn { text-decoration: none !important; }
  .nav .btn { padding: 10px 16px; font-size: 14px; } /* Smaller buttons in nav */

  .h1{font-size:clamp(40px, 7vw, 80px); line-height:1.05; letter-spacing:-0.03em; font-weight:800; margin:18px 0}
  .grad{background:linear-gradient(90deg, var(--a1), var(--a2), var(--a3)); -webkit-background-clip:text; background-clip:text; color:transparent}
  .lead{max-width:760px; color:var(--muted); font-size:clamp(16px, 2.5vw, 20px)}
  
  .snap-section { min-height: 100vh; display: flex; align-items: center; justify-content: center; scroll-snap-align: start; scroll-snap-stop: always; padding: 100px 0; box-sizing: border-box; }
  .band{background: color-mix(in srgb, var(--bg) 50%, transparent);}
  
  h2{font-size:clamp(28px, 4.5vw, 44px); letter-spacing:-0.02em}
  h3{font-size:20px; letter-spacing:-0.01em; margin-bottom: 4px; font-weight:600;}
  h4{font-size:16px; margin-bottom:12px; color:var(--muted); text-transform:uppercase; letter-spacing:.05em;}
  p.muted{color:var(--muted); line-height: 1.6;}
  .grid-2{display:grid; gap:48px; grid-template-columns:1fr; align-items:center}
  @media(min-width:960px){.grid-2{grid-template-columns:1fr 1fr}}
  .grid-3{display:grid; gap:24px; grid-template-columns:1fr}
  @media(min-width:640px){.grid-3{grid-template-columns:repeat(3,1fr)}}
  .grid-4{display:grid; gap:24px; grid-template-columns:1fr}
  @media(min-width:900px){.grid-4{grid-template-columns:repeat(4,1fr)}}

  .card{border:1px solid var(--line); border-radius:16px; padding:24px; background:var(--card); transition:box-shadow .2s ease, transform .2s ease}
  .card:hover{box-shadow:0 12px 40px rgba(0,0,0,.1); transform: translateY(-4px);}
  
  .icon{width:40px;height:40px;border-radius:12px;display:grid;place-items:center;background:linear-gradient(135deg, var(--a1), var(--a3));color:#fff;margin-bottom:12px}
  .icon svg { width: 24px; height: 24px; stroke: currentColor; stroke-width: 2; fill: none; stroke-linecap: round; stroke-linejoin: round; }

  .product-visual { border: 1px solid var(--line); border-radius: 24px; aspect-ratio: 4/3; background: var(--card); padding: 0; }
  
  .spec-item { display: flex; align-items: flex-start; gap: 16px; margin-bottom: 32px; text-align: left; }
  .spec-item:last-child { margin-bottom: 0; }
  .spec-icon { 
    flex-shrink: 0; width: 36px; height: 36px;
    background: color-mix(in srgb, var(--a1) 10%, transparent); 
    border-radius: 8px; display: grid; place-items: center;
  }
  .spec-icon svg { width: 20px; height: 20px; stroke: var(--a1); stroke-width: 2; }
  .spec-content strong { display: block; margin-bottom: 4px; font-size: 17px; color: var(--text); }
  .spec-content p { margin: 0; font-size: 15px; color: var(--muted); line-height: 1.6; }

  .animate-item { opacity: 0; transform: translateY(40px); transition: opacity 0.8s cubic-bezier(0.215, 0.610, 0.355, 1), transform 0.8s cubic-bezier(0.215, 0.610, 0.355, 1); }
  .animate-item.is-visible { opacity: 1; transform: translateY(0); }
  
  model-viewer { width: 100%; height: 100%; border-radius: 24px; --poster-color: transparent; }
  model-viewer[camera-controls] { cursor: default; }

  footer{border-top:1px solid var(--line); padding:36px 0; color:var(--muted); scroll-snap-align: end;}
  
  /* --- MODIFICATION START: Added Cart Styles --- */
  .cart-backdrop {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); z-index: 90;
    opacity: 0; visibility: hidden; transition: opacity .3s ease, visibility .3s ease;
  }
  .cart-backdrop.is-visible { opacity: 1; visibility: visible; }
  .cart-sidebar {
    position: fixed; top: 0; right: 0; width: 100%; max-width: 400px; height: 100%;
    background: var(--bg); border-left: 1px solid var(--line); z-index: 100;
    transform: translateX(100%); transition: transform .3s ease;
    display: flex; flex-direction: column; box-shadow: -10px 0 20px rgba(0,0,0,0.1); padding: 0; 
  }
  .cart-sidebar.is-open { transform: translateX(0); }
  .cart-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--line); padding: 1rem 2rem; flex-shrink: 0; }
  .cart-items { list-style: none; padding: 1rem 2rem; margin: 0; flex-grow: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 1rem; }
  .cart-item { padding: 0; border-bottom: none; }
  .cart-product-card { border: 1px solid var(--line); border-radius: 12px; padding: 16px; background: var(--card); box-shadow: 0 4px 10px rgba(0,0,0,0.05); position: relative; }
  .cart-product-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; }
  .cart-product-title { font-size: 16px; font-weight: 600; margin: 0; }
  .cart-product-subtitle { font-size: 13px; color: var(--muted); margin: 4px 0 12px 0; font-weight: 400; }
  .cart-product-price { font-size: 15px; font-weight: 500; }
  .cart-product-remove-btn { background: none; border: none; font-size: 24px; line-height: 1; padding: 0; margin-left: 10px; cursor: pointer; color: var(--muted); transition: color .2s ease; }
  .cart-product-remove-btn:hover { color: var(--text); }
  .cart-total { display: flex; justify-content: space-between; align-items: center; font-size: 18px; font-weight: 600; }
  .cart-empty-state { text-align: center; padding: 2rem; color: var(--muted); margin: auto 0; }
  .cart-footer { border-top: 1px solid var(--line); padding: 1rem 2rem 2rem 2rem; margin-top: auto; flex-shrink: 0; }
  .quantity-control { display: flex; align-items: center; gap: 8px; }
  .quantity-btn {
    width: 28px; height: 28px; border-radius: 6px; font-size: 18px; padding: 0;
    display: grid; place-items: center; line-height: 0;
  }
  .quantity-input {
    width: 32px; height: 28px; text-align: center; border: 1px solid var(--line);
    border-radius: 6px; font-family: inherit; font-weight: 600; -moz-appearance: textfield;
  }
  .quantity-input::-webkit-outer-spin-button,
  .quantity-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
  .cart-item-actions { display: flex; justify-content: space-between; align-items: center; margin-top: 12px; }
  /* --- MODIFICATION END --- */
</style>
</head>
<body>

  <div class="splash-screen">
    <div class="splash-text grad">DP PRO</div>
  </div>

  <div class="nav" id="main-nav">
    <div class="container nav-inner">
      <a href="index.html" class="logo">
        <img src="logo.png" alt="DP Biotech Logo" style="height:34px; border-radius:50%;">
        <span>DP Biotech</span>
      </a>
      <ul class="nav-links">
        <li class="dropdown" data-menu="microscopes-menu"><a href="#">Microscopes</a></li>
        <li class="dropdown" data-menu="stands-menu"><a href="#">Stands</a></li>
        <li class="dropdown" data-menu="software-menu"><a href="#">Software</a></li>
        <li class="dropdown" data-menu="support-menu"><a href="#">Support</a></li>
      </ul>
      <div style="display:flex; gap:8px;">
        <a class="btn" href="licensing.html">Licensing</a>
        <button id="cart-btn" class="btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <path d="M16 10a4 4 0 0 1-8 0"></path>
          </svg>
          <span id="cart-count">0</span>
        </button>
      </div>
      </div>
    <div id="microscopes-menu" class="dropdown-menu"><div class="container"><div class="menu-content"><ul class="menu-main-links"><li>Shop Microscopes</li><li><a href="DPMini.html">DP Mini</a></li><li><a href="DPPro.html">DP Pro</a></li><li><a href="all-models.html">All Models</a></li></ul><ul class="menu-link-column"><li>Quick Links</li><li><a href="#">Compare Models</a></li></ul></div></div></div>
    <div id="stands-menu" class="dropdown-menu"><div class="container"><div class="menu-content"><ul class="menu-main-links"><li>Shop Stands</li><li><a href="#">Floor Stands</a></li><li><a href="#">Ceiling Mounts</a></li><li><a href="#">Wall Mounts</a></li></ul><ul class="menu-link-column"><li>Quick Links</li><li><a href="#">Compatibility Guide</a></li></ul></div></div></div>
    <div id="software-menu" class="dropdown-menu"><div class="container"><div class="menu-content"><ul class="menu-main-links"><li>Explore Software</li><li><a href="#">Imaging Suite</a></li><li><a href="#">Companion App</a></li></ul><ul class="menu-link-column"><li>For Developers</li><li><a href="#">API & SDK</a></li></ul></div></div></div>
    <div id="support-menu" class="dropdown-menu"><div class="container"><div class="menu-content"><ul class="menu-main-links"><li>Get Support</li><li><a href="contactus.html">Contact Us</a></li></ul></div></div></div>
  </div>
  <div class="menu-backdrop"></div>

  <div class="cart-backdrop" id="cart-backdrop"></div>
  <div class="cart-sidebar" id="cart-sidebar">
    <div class="cart-header">
      <h3 style="margin:0;">Your Cart</h3>
      <button class="btn" id="close-cart-btn">Close</button>
    </div>
    <div id="cart-empty-state" class="cart-empty-state">
      Your cart is empty.
    </div>
    <ul class="cart-items" id="cart-items">
      </ul>
    <div class="cart-footer">
      <div class="cart-total">
        <span>Total</span>
        <span id="cart-total-price">€0,00</span>
      </div>
      <button id="checkout-btn" class="btn primary" style="width:100%; margin-top:1rem;">Checkout</button>
      <button id="clear-cart-btn" class="btn" style="width:100%; margin-top:0.5rem;">Clear Cart</button>
    </div>
  </div>
  <header class="snap-section" id="home">
    <div class="container">
      <div class="grid-2" data-stagger-children>
        <div class="animate-item">
          <h1 class="h1">DP Pro <span class="grad">Surgical Microscope</span></h1>
          <p class="lead">Revolutionary surgical microscope with gimbal stabilization and articulated arm for surgical excellence.</p>
          <div style="display:flex; gap:12px; margin-top:24px">
            <a href="buydppro.html" class="btn primary">Buy Now</a>
            <a href="#features" class="btn">Learn More</a>
          </div>
        </div>
        <div class="product-visual animate-item">
          <model-viewer src="dppro.glb" ios-src="dppro.usdz" alt="DP Pro Surgical Microscope" 
            camera-controls auto-rotate ar shadow-intensity="1" interaction-prompt="none"
            camera-orbit="15deg 75deg 1.5m">
          </model-viewer>
        </div>
      </div>
    </div>
  </header>
  
  <section class="snap-section band" id="specifications">
    <div class="container animate-item">
        <div style="text-align: center; max-width: 760px; margin: 0 auto 60px auto;">
            <h2>Engineered for Excellence</h2>
            <p class="muted">Every component is meticulously designed to enhance surgical workflow, providing unparalleled stability, optical clarity, and intelligent control.</p>
        </div>
        <div class="grid-2" style="gap: 60px; max-width:1000px; margin:0 auto; align-items: start;">
            <div>
                <div class="spec-item">
                    <div class="spec-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="2"></circle><path d="M12 2a10 10 0 0 0-2.3.19M12 22a10 10 0 0 1-2.3-.19"></path><path d="M2 12a10 10 0 0 1 .19-2.3M22 12a10 10 0 0 0-.19-2.3"></path></svg></div>
                    <div class="spec-content">
                        <strong>3-Axis Gimbal Stabilization</strong>
                        <p>Eliminates vibrations and micro-tremors by isolating the optical body, ensuring an exceptionally stable image during repositioning.</p>
                    </div>
                </div>
                <div class="spec-item">
                    <div class="spec-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M17 17l-1 1-1.5-1.5L13 18l-1-1 1.5-1.5L12 14l-1 1-1.5-1.5L8 15l-1-1 1.5-1.5L7 11l-1 1-1.5-1.5L3 12l-1-1 1.5-1.5L2 8l-1-1 1.5-1.5L1 4l1-1 1.5 1.5L5 3l1 1-1.5 1.5L6 7l1-1 1.5 1.5L10 6l1 1-1.5 1.5L11 9l1-1 1.5 1.5L15 8l1 1-1.5 1.5L16 11l-1 1 1.5 1.5L15 13l1 1-1.5 1.5L16 16z"></path><path d="M9 12a3 3 0 11-3-3"></path></svg></div>
                    <div class="spec-content">
                        <strong>Articulated Robotic Arm</strong>
                        <p>Provides extensive reach and effortless, precise positioning with smooth, counterbalanced mechanics for optimal ergonomics.</p>
                    </div>
                </div>
                 <div class="spec-item">
                    <div class="spec-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M14 10a2 2 0 10-4 0v4a2 2 0 104 0V5a2 2 0 10-4 0"></path><path d="M8 19.5a2.5 2.5 0 005 0"></path><path d="M6 17H4a2 2 0 01-2-2V7a2 2 0 012-2h2"></path><path d="M18 17h2a2 2 0 002-2V7a2 2 0 00-2-2h-2"></path></svg></div>
                    <div class="spec-content">
                        <strong>Multi-Modal Control</strong>
                        <p>Manage focus, zoom, and positioning via a multifunctional joystick, pressure-sensitive oculars, or an optional foot pedal.</p>
                    </div>
                </div>
            </div>
            <div>
                <div class="spec-item">
                    <div class="spec-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="3"></circle><path d="M20.62 12.38a8.38 8.38 0 0 1-1.24 3.06c-1.63 2.62-4.04 4.31-7.38 4.31s-5.75-1.69-7.38-4.31A8.38 8.38 0 0 1 3.38 12.38a8.38 8.38 0 0 1 1.24-3.06c1.63-2.62 4.04-4.31 7.38-4.31s5.75 1.69 7.38 4.31a8.38 8.38 0 0 1 1.24 3.06z"></path></svg></div>
                    <div class="spec-content">
                        <strong>Apochromatic Optics</strong>
                        <p>Corrects for chromatic aberrations, delivering razor-sharp images with true-to-life color fidelity and exceptional depth perception.</p>
                    </div>
                </div>
                <div class="spec-item">
                    <div class="spec-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M5 12h14M12 5l7 7-7 7"></path></svg></div>
                    <div class="spec-content">
                        <strong>Motorized 5-Step Zoom</strong>
                        <p>Offers a wide magnification range (e.g., 5x-25x) with a smooth, motorized transition between steps to maintain focus on the surgical field.</p>
                    </div>
                </div>
                <div class="spec-item">
                    <div class="spec-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M23 12.15c0 6.3-5.15 11.45-11.45 11.45A11.45 11.45 0 0 1 0 12.15C0 5.85 5.15.7 11.45.7A11.45 11.45 0 0 1 23 12.15z"></path><path d="M5.1 12.15h13.8"></path><path d="M12 5.25v13.8"></path></svg></div>
                    <div class="spec-content">
                        <strong>Coaxial LED Illumination</strong>
                        <p>Provides a bright, shadow-free field of view with excellent color rendering (CRI >90) for accurate tissue assessment.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </section>

  <section class="snap-section" id="features">
    <div class="container" data-stagger-children>
      <div class="animate-item" style="text-align: center; max-width: 760px; margin: 0 auto 40px auto;">
        <h2>Advanced Surgical Precision</h2>
        <p class="muted">Engineered for modern surgical environments with unmatched stability and intelligent control.</p>
      </div>
      <div class="grid-4 animate-item">
        <div class="card">
            <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="2"></circle><path d="M12 2a10 10 0 0 0-2.3.19M12 22a10 10 0 0 1-2.3-.19"></path><path d="M2 12a10 10 0 0 1 .19-2.3M22 12a10 10 0 0 0-.19-2.3"></path><path d="M12 6a6 6 0 0 0-3.5 1.04M12 18a6 6 0 0 1-3.5-1.04"></path><path d="M6 12a6 6 0 0 1 1.04-3.5M18 12a6 6 0 0 0-1.04-3.5"></path></svg></div>
            <h3>Gimbal Stabilization</h3>
            <p class="muted">Three-axis gimbal maintains constant optical body stabilization during any movement.</p>
        </div>
        <div class="card">
            <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 17l-1 1-1.5-1.5L13 18l-1-1 1.5-1.5L12 14l-1 1-1.5-1.5L8 15l-1-1 1.5-1.5L7 11l-1 1-1.5-1.5L3 12l-1-1 1.5-1.5L2 8l-1-1 1.5-1.5L1 4l1-1 1.5 1.5L5 3l1 1-1.5 1.5L6 7l1-1 1.5 1.5L10 6l1 1-1.5 1.5L11 9l1-1 1.5 1.5L15 8l1 1-1.5 1.5L16 11l-1 1 1.5 1.5L15 13l1 1-1.5 1.5L16 16z"></path><path d="M9 12a3 3 0 11-3-3"></path></svg></div>
            <h3>Articulated Arm</h3>
            <p class="muted">Dual-segment extensible arm for optimal positioning without moving the patient.</p>
        </div>
        <div class="card">
            <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14.5c0 1.93-1.57 3.5-3.5 3.5s-3.5-1.57-3.5-3.5 1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5z"></path><path d="M22 12c0 5.52-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2s10 4.48 10 10z"></path><path d="M12 18v4"></path><path d="M12 2v4"></path></svg></div>
            <h3>Digital Control</h3>
            <p class="muted">Intuitive control via joystick and pressure-sensitive oculars for seamless operation.</p>
        </div>
        <div class="card">
            <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a5.24 5.24 0 00-4 2c-1.8 2.4-1.4 5.2.2 6.2 1.3 1 3.2.3 4.8.3s3.5.7 4.8-.3c1.6-1 2-3.8.2-6.2a5.24 5.24 0 00-4-2z"></path><path d="M5 12c-1.8 2.4-1.4 5.2.2 6.2 1.3 1 3.2.3 4.8.3s3.5.7 4.8-.3c1.6-1 2-3.8.2-6.2"></path><path d="M8 21c-1.8-2.4-1.4-5.2.2-6.2 1.3-1 3.2-.3 4.8-.3s3.5.7 4.8.3c1.6 1 2 3.8.2 6.2"></path></svg></div>
            <h3>AI Integration</h3>
            <p class="muted">Built-in AI for anatomical structure recognition and real-time surgical guidance.</p>
        </div>
      </div>
    </div>
  </section>

  <section class="snap-section" id="technology">
    <div class="container">
      <div class="grid-2" data-stagger-children>
        <div class="animate-item">
          <h2>Gimbal Stabilization Technology</h2>
          <p class="muted">Our patented three-axis gimbal system separates rotational from translational movements, providing unprecedented stability. The optical body remains constantly stabilized regardless of arm movements, eliminating vibrations and ensuring steady imaging throughout procedures.</p>
        </div>
        <div class="product-visual animate-item" style="padding:32px; text-align:center; font-weight:600; display:grid; place-items:center;"><strong>PRECISION STABILIZATION</strong></div>
      </div>
    </div>
  </section>
  
  <section class="snap-section band" id="control">
    <div class="container">
      <div class="grid-2" data-stagger-children>
          <div class="product-visual animate-item" style="padding:32px; text-align:center; font-weight:600; display:grid; place-items:center;"><strong>INTELLIGENT CONTROL</strong></div>
          <div class="animate-item">
              <h2>Intuitive Control Systems</h2>
              <p class="muted">Multiple control interfaces including pressure-sensitive oculars, a multifunctional joystick, and optional foot pedal. The system responds to subtle pressure changes for natural, hands-free operation and combines optical and digital zoom for seamless magnification.</p>
          </div>
      </div>
    </div>
  </section>

  <section class="snap-section" id="applications">
    <div class="container" data-stagger-children>
      <div class="animate-item" style="text-align: center; max-width: 760px; margin: 0 auto 40px auto;">
        <h2>Precision Across Specialties</h2>
        <p class="muted">Designed to excel in a wide range of demanding surgical procedures.</p>
      </div>
      <div class="grid-3 animate-item">
        <div class="card">
            <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 2c-2.4 0-4.5 1.2-5.5 3 0 0 0 0 0 0-2.3.3-4 2.2-4 4.5 0 2.1 1.5 4 3.5 4.5.3 0 .5.2.5.5v2c0 .3-.2.5-.5.5A6.5 6.5 0 0 1 2 9.5C2 6.5 4.5 4 7.5 4c.8 0 1.5.2 2.2.5.3.1.5-.2.4-.5A5.5 5.5 0 0 1 9.5 2zM14.5 22c2.4 0 4.5-1.2 5.5-3 0 0 0 0 0 0 2.3-.3 4-2.2 4-4.5 0-2.1-1.5-4-3.5-4.5-.3 0-.5-.2-.5-.5v-2c0-.3.2-.5.5-.5A6.5 6.5 0 0 1 22 14.5c0 3-2.5 5.5-5.5 5.5-.8 0-1.5-.2-2.2-.5-.3-.1-.5.2-.4.5a5.5 5.5 0 0 1 .6 2.5z"></path></svg></div>
            <h3>Neurosurgery</h3>
            <p class="muted">Unmatched stability for delicate neural and spinal procedures, aided by an anti-collision system.</p>
        </div>
        <div class="card">
            <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"></circle><path d="M20.62 12.38a8.38 8.38 0 0 1-1.24 3.06c-1.63 2.62-4.04 4.31-7.38 4.31s-5.75-1.69-7.38-4.31A8.38 8.38 0 0 1 3.38 12.38a8.38 8.38 0 0 1 1.24-3.06c1.63-2.62 4.04-4.31 7.38-4.31s5.75 1.69 7.38 4.31a8.38 8.38 0 0 1 1.24 3.06z"></path></svg></div>
            <h3>Ophthalmology</h3>
            <p class="muted">Superior depth perception and clarity for intricate corneal, retinal, and cataract surgeries.</p>
        </div>
        <div class="card">
            <div class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.78 6.22a.5.5 0 0 0-.56-.04l-1.6 1.07A6.47 6.47 0 0 0 16.5 6a6.5 6.5 0 0 0-9.67 5.14l-1.53 1.53a.5.5 0 0 0 .7.7l1.54-1.54a6.5 6.5 0 0 0 4.6 1.94 6.47 6.47 0 0 0 3.12-1.25l1.6 1.07a.5.5 0 0 0 .56-.04l2-1.33a.5.5 0 0 0 .22-.45v-5a.5.5 0 0 0-.22-.45l-2-1.33z"></path><path d="M12 11a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"></path></svg></div>
            <h3>Microsurgery</h3>
            <p class="muted">Enhanced ergonomics and visualization for complex endodontic and periodontal treatments.</p>
        </div>
      </div>
    </div>
  </section>
  
  <footer>
    <div class="container" style="display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap">
      <div style="display:flex; gap:8px; align-items:center"><img src="logo.png" alt="DP Biotech Logo" style="height: 36px; border-radius: 50%;">DP Biotech</div>
      <div style="display:flex; gap:18px"><a href="#" style="color:var(--muted); text-decoration:none;">Privacy</a><a href="#" style="color:var(--muted); text-decoration:none;">Terms</a><a href="#" style="color:var(--muted); text-decoration:none;">Patents</a></div>
    </div>
  </footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
    /* ==== Splash Screen and Animations ==== */
    const splash = document.querySelector('.splash-screen');
    window.addEventListener('load', () => {
        setTimeout(() => { splash.classList.add('hidden'); }, 1800);
        setTimeout(() => { splash.remove(); }, 2600);
    });
    
    const observerOptions = { rootMargin: '0px', threshold: 0.2 };
    const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const el = entry.target;
                if (el.dataset.staggerChildren !== undefined) {
                    const children = el.querySelectorAll('.animate-item');
                    children.forEach((child, index) => {
                        child.style.transitionDelay = `${index * 120}ms`;
                        child.classList.add('is-visible');
                    });
                } else {
                    el.classList.add('is-visible');
                }
                observer.unobserve(el);
            }
        });
    }, observerOptions);
    document.querySelectorAll('.animate-item, [data-stagger-children]').forEach(item => observer.observe(item));

    /* ==== Mega menu script ==== */
    const mainNav = document.getElementById('main-nav');
    const triggers = mainNav.querySelectorAll('.dropdown[data-menu]');
    const backdrop = document.querySelector('.menu-backdrop');
    let activeMenu = null, closeTimeout;
    function openMenu(id){
        if(activeMenu){ activeMenu.classList.remove('is-open'); }
        const menu = document.getElementById(id);
        if(menu){ menu.classList.add('is-open'); backdrop.classList.add('is-visible'); activeMenu = menu; }
    }
    function closeAll(){
        if(activeMenu){ activeMenu.classList.remove('is-open'); }
        backdrop.classList.remove('is-visible'); activeMenu = null;
    }
    triggers.forEach(t => t.addEventListener('mouseenter', () => { clearTimeout(closeTimeout); openMenu(t.dataset.menu); }));
    mainNav.addEventListener('mouseleave', () => { closeTimeout = setTimeout(closeAll, 200); });
    mainNav.addEventListener('mouseenter', () => { clearTimeout(closeTimeout); });
    
    // --- MODIFICATION START: Added Complete Cart Script ---
    const cartBtn = document.getElementById('cart-btn');
    const cartCountEl = document.getElementById('cart-count');
    const cartSidebar = document.getElementById('cart-sidebar');
    const cartBackdrop = document.getElementById('cart-backdrop');
    const closeCartBtn = document.getElementById('close-cart-btn');
    const cartItemsList = document.getElementById('cart-items');
    const cartEmptyState = document.getElementById('cart-empty-state');
    const cartTotalPriceEl = document.getElementById('cart-total-price');
    const checkoutBtn = document.getElementById('checkout-btn');
    const clearCartBtn = document.getElementById('clear-cart-btn');
    let cart = [];

    function initCart() {
      const savedCart = sessionStorage.getItem('shoppingCart');
      if (savedCart) {
        cart = JSON.parse(savedCart);
      }
      updateCartUI();
    }

    function saveCart() {
      sessionStorage.setItem('shoppingCart', JSON.stringify(cart));
      updateCartUI();
    }

    function formatOptions(options) {
        if (typeof options === 'object' && options !== null) {
            return Object.values(options).filter(val => val).join(', ');
        }
        return options || '';
    }

    function changeQuantity(itemId, amount) {
        if (amount > 0) {
            const itemToAdd = cart.find(item => item.id === itemId);
            if (itemToAdd) {
                cart.push({...itemToAdd});
            }
        } else if (amount < 0) {
            const itemIndexToRemove = cart.findIndex(item => item.id === itemId);
            if (itemIndexToRemove > -1) {
                cart.splice(itemIndexToRemove, 1);
            }
        }
        saveCart();
    }

    function removeItem(itemId) {
        cart = cart.filter(item => item.id !== itemId);
        saveCart();
    }

    function updateCartUI() {
      const consolidatedCart = {};
      cart.forEach(item => {
        if (consolidatedCart[item.id]) {
          consolidatedCart[item.id].quantity++;
        } else {
          consolidatedCart[item.id] = { ...item, quantity: 1 };
        }
      });
      const displayCart = Object.values(consolidatedCart);

      cartItemsList.innerHTML = '';
      
      let total = 0;
      cart.forEach(item => { total += item.price; });
      const EUR = new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'EUR' });

      if (displayCart.length === 0) {
        cartEmptyState.style.display = 'block';
        checkoutBtn.disabled = true;
        clearCartBtn.disabled = true;
      } else {
        cartEmptyState.style.display = 'none';
        checkoutBtn.disabled = false;
        clearCartBtn.disabled = false;

        displayCart.forEach((item) => {
          const li = document.createElement('li');
          li.className = 'cart-item';
          const baseName = item.name.split('(')[0].trim();
          const formattedOptions = formatOptions(item.options);
          
          li.innerHTML = `
            <div class="cart-product-card">
                <div class="cart-product-header">
                    <h4 class="cart-product-title">${baseName}</h4>
                    <button class="cart-product-remove-btn" data-action="remove" data-id="${item.id}">&times;</button>
                </div>
                <p class="cart-product-subtitle">${formattedOptions}</p>
                <div class="cart-item-actions">
                    <div class="quantity-control">
                        <button class="btn quantity-btn" data-action="decrease" data-id="${item.id}">-</button>
                        <input type="number" class="quantity-input" value="${item.quantity}" min="1" readonly>
                        <button class="btn quantity-btn" data-action="increase" data-id="${item.id}">+</button>
                    </div>
                    <div class="cart-product-price">${EUR.format(item.price)}</div>
                </div>
            </div>
          `;
          cartItemsList.appendChild(li);
        });
      }

      cartCountEl.textContent = cart.length;
      cartTotalPriceEl.textContent = EUR.format(total);
    }
    
    if (cartBtn) {
        cartBtn.addEventListener('click', () => {
          cartSidebar.classList.add('is-open');
          cartBackdrop.classList.add('is-visible');
        });
    }

    if(closeCartBtn) {
        closeCartBtn.addEventListener('click', () => {
          cartSidebar.classList.remove('is-open');
          cartBackdrop.classList.remove('is-visible');
        });
    }

    if(cartBackdrop) {
        cartBackdrop.addEventListener('click', () => {
          cartSidebar.classList.remove('is-open');
          cartBackdrop.classList.remove('is-visible');
        });
    }
    
    if(cartItemsList) {
        cartItemsList.addEventListener('click', (e) => {
            const target = e.target.closest('button');
            if (!target) return;
            const action = target.dataset.action;
            const id = target.dataset.id;
            if (!id) return;

            if (action === 'increase') {
                changeQuantity(id, 1);
            } else if (action === 'decrease') {
                changeQuantity(id, -1);
            } else if (action === 'remove') {
                removeItem(id);
            }
        });
    }

    if(clearCartBtn) {
        clearCartBtn.addEventListener('click', () => {
            cart = [];
            saveCart();
        });
    }

    if(checkoutBtn) {
        checkoutBtn.addEventListener('click', () => {
            window.location.href = 'checkout.html';
        });
    }
    
    window.onbeforeunload = function(event) {
        if (cart.length > 0) {
            const message = "Your cart contains items. Are you sure you want to leave?";
            event.returnValue = message; 
            return message;
        }
    };
    
    initCart();
    // --- MODIFICATION END ---
});
</script>

</body>
</html>